import React from \"react\";\nimport {\n  ActionPanel,\n  Form,\n  SubmitFormAction,\n  Detail,\n  showToast,\n  Toast,\n  useNavigation,\n} from \"@raycast/api\";\nimport { useState } from \"react\";\nimport { generateSection } from \"../utils/api\";\n\n/*\n * Draft Section Command\n *\n * Presents a form for specifying a draft section and a prompt. When\n * submitted, it sends the request to the assistant backend and displays the\n * generated draft in a detail view. This skeleton does not support\n * streaming output; adapt it as needed.\n */\n\nexport default function DraftSection() {\n  const [section, setSection] = useState(\"\");\n  const [prompt, setPrompt] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const { push } = useNavigation();\n\n  async function handleSubmit() {\n    if (!section.trim()) {\n      await showToast(\n        Toast.Style.Failure,\n        \"Please specify a section name\"\n      );\n      return;\n    }\n\n    if (!prompt.trim()) {\n      await showToast(\n        Toast.Style.Failure,\n        \"Please provide a prompt for the draft\"\n      );\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const result = await generateSection({ section, prompt });\n      await showToast(Toast.Style.Success, \"Draft generated\");\n\n      const markdown = result.content || \"No content generated\";\n      const title = `${section} - Draft`;\n\n      push(\n        <Detail\n          markdown={markdown}\n          navigationTitle={title}\n          actions={\n            <ActionPanel>\n              <SubmitFormAction\n                title=\"Generate Another\"\n                onSubmit={() => {\n                  setSection(\"\");\n                  setPrompt(\"\");\n                  push(<DraftSection />);\n                }}\n              />\n            </ActionPanel>\n          }\n        />\n      );\n    } catch (err: any) {\n      await showToast(\n        Toast.Style.Failure,\n        \"Error\",\n        err.message || \"Failed to generate draft\"\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  }\n\n  return (\n    <Form\n      isLoading={isLoading}\n      actions={\n        <ActionPanel>\n          <SubmitFormAction title=\"Generate Draft\" onSubmit={handleSubmit} />\n        </ActionPanel>\n      }\n    >\n      <Form.Description text=\"Generate a draft section of your policy document using AI assistance\" />\n\n      <Form.TextField\n        id=\"section\"\n        title=\"Section Name\"\n        placeholder=\"e.g., Introduction, Key Findings, Recommendations\"\n        value={section}\n        onChange={setSection}\n      />\n\n      <Form.TextArea\n        id=\"prompt\"\n        title=\"Prompt\"\n        placeholder=\"Describe what you want the AI to draft for this section...\"\n        value={prompt}\n        onChange={setPrompt}\n      />\n    </Form>\n  );\n}\n"
<parameter name="_tool_input_summary">Write complete DraftSection.tsx component with form implementation including section name and prompt fields, error handling, and draft display functionality"